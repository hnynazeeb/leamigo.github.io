<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Fare Configuration</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input {
            margin-bottom: 10px;
            padding: 5px;
        }
        button {
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        table {
            margin-top: 20px;
            border-collapse: collapse;
            width: 250px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
    </style>
</head>
<body>

<h2>Admin Fare Configuration</h2>

<form id="adminForm">
    <label for="vehicleId">Vehicle ID:</label>
    <input type="number" id="vehicleId" name="vehicleId" min="1" placeholder="Enter vehicle ID">

    <label for="baseFare">Base Fare:</label>
    <input type="number" id="baseFare" name="baseFare" min="0" placeholder="Enter base fare">

    <label for="baseKm">Base Kilometers:</label>
    <input type="number" id="baseKm" name="baseKm" min="0" placeholder="Enter base kilometers">

    <label for="meetAndGreet">Meet and Greet:</label>
    <select id="meetAndGreet" name="meetAndGreet">
        <option value="no">No</option>
        <option value="yes">Yes</option>
    </select>

    <div id="meetAndGreetCostContainer" style="display: none;">
        <label for="meetAndGreetCost">Meet and Greet Cost:</label>
        <input type="number" id="meetAndGreetCost" name="meetAndGreetCost" min="0" placeholder="Enter meet and greet cost">
    </div>

    <label for="stepValues">Step Values (comma-separated):</label>
    <input type="text" id="stepValues" name="stepValues" placeholder="e.g., 10,20,40,80,200">

    <label for="stepFactors">Step Factors (comma-separated):</label>
    <input type="text" id="stepFactors" name="stepFactors" placeholder="e.g., 1.4,1.3,1.2,1.1,1.3">

    <label for="currency">Currency:</label>
    <input type="text" id="currency" name="currency" placeholder="Enter currency">

    <button type="button" onclick="setFare()">Set Fare</button>
</form>

<table>
    <tr>
        <th>Vehicle ID</th>
        <th>Vehicle Name</th>
    </tr>
    <tr>
        <td>1</td>
        <td>Saloon</td>
    </tr>
    <tr>
        <td>2</td>
        <td>MPV5</td>
    </tr>
    <tr>
        <td>3</td>
        <td>Minivan</td>
    </tr>
    <tr>
        <td>4</td>
        <td>Business Class</td>
    </tr>
    <tr>
        <td>5</td>
        <td>Business Van</td>
    </tr>
    <tr>
        <td>6</td>
        <td>Transporter</td>
    </tr>
    <tr>
        <td>7</td>
        <td>Minibus-13</td>
    </tr>
    <tr>
        <td>8</td>
        <td>Minibus-17</td>
    </tr>
</table>

<script>
    document.getElementById('meetAndGreet').addEventListener('change', function () {
        const meetAndGreetCostContainer = document.getElementById('meetAndGreetCostContainer');
        const meetAndGreetCostInput = document.getElementById('meetAndGreetCost');

        if (this.value === 'yes') {
            meetAndGreetCostContainer.style.display = 'block';
        } else {
            meetAndGreetCostContainer.style.display = 'none';
            meetAndGreetCostInput.value = '';  // Reset the value when switching to "No"
        }
    });

    function setFare() {
        const vehicleId = document.getElementById('vehicleId').value;
        const baseFare = document.getElementById('baseFare').value;
        const baseKm = document.getElementById('baseKm').value;
        const meetAndGreet = document.getElementById('meetAndGreet').value;
        const meetAndGreetCost = document.getElementById('meetAndGreetCost').value;
        const stepValues = document.getElementById('stepValues').value.split(',').map(Number);
        const stepFactors = document.getElementById('stepFactors').value.split(',').map(Number);
        const currency = document.getElementById('currency').value;

        // Create the JSON object based on the entered values.
        const fareConfig = {
            "formula": {
                "meet": {
                    "cost": meetAndGreet === 'yes' ? parseFloat(meetAndGreetCost) : 0,
                    "included": meetAndGreet === 'yes' ? 1 : 0
                },
                "step": {}
            },
            "base_km": parseInt(baseKm),
            "base_fare": parseInt(baseFare),
            "vehicle_id": parseInt(vehicleId)
        };

        stepValues.forEach((value, index) => {
            fareConfig.formula.step[value] = stepFactors[index];
        });

        // You can use the fareConfig object as needed (e.g., send it to the server, update an existing JSON, etc.).
        console.log("Fare configuration set:", fareConfig);
        alert("Fare configuration set!");  // You can replace this with your specific action.
    }
</script>

</body>
</html>

